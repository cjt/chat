<div class="room">
  <div class="room-header clearfix">
    <div class="room-about">
      <div class="room-name">{{$ctrl.room}}</div>
      <div class="room-num-messages">{{$ctrl.messages.length}} messages</div>
    </div>
  </div>

  <div class="room-history" scroll-glue>
    <ul>
      <li ng-repeat="message in $ctrl.messages"  class="clearfix">
	<div class="about">
          <span class="message-data-time">{{message.datetime}}</span> &nbsp;
	  <span class="message-data-name">{{message.username}}</span> &nbsp;
          <span class="message other-message">{{message.message}}</span>
	</div>
      </li>
    </ul>
  </div>

  <div class="chat-message clearfix">
    <form name="messageform" novalidate>
      <label for="username">Username: </label>
      <input type="text" name="username" ng-model="$ctrl.username" required ng-minlength="1" />
      <ng-messages for="messageform.username.$error" ng-show="messageform.username.$invalid">
	<ng-message when="required">This field is required</ng-message>
      </ng-messages>

      <br />
      
      <textarea name="newmessage" id="newmessage" placeholder ="Type your message" rows="3" ng-model="$ctrl.newmessage" required ng-minlength="1"></textarea>
      <ng-messages for="messageform.newmessage.$error" ng-show="messageform.newmessage.$invalid">
	<ng-message when="required">This field is required</ng-message>
      </ng-messages>

      <br />
      
      <button ng-click="$ctrl.send($ctrl.username, $ctrl.newmessage)" ng-disabled="messageform.$invalid">Send</button>
    </form>
  </div>  
</div>

